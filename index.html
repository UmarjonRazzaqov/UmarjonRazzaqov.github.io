<!DOCTYPE html>
<html>
<head>
    <title>My Mini App</title>
    s4
    <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="Navbo_bot" data-size="large" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
    <script type="text/javascript">
  function onTelegramAuth(user) {
    alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
  }
</script>
</head>
<body>
    <h1>Welcome, <span id="username"></span>!</h1>
    <script>
        // Initialize the Telegram Web App object
        let tg = window.Telegram.WebApp;
        // Display the user's first name (if available)
        document.getElementById("username").innerText = tg.initDataUnsafe.user?.first_name || "Guest";

        function sendData() {
            // This sends data back to the bot when the button is clicked
            tg.sendData(JSON.stringify({ action: "clicked_button" }));
        }

        // Expand the app to full-screen
        tg.expand();
    </script>
    <button onclick="sendData()">Send Data to Bot</button>

    <script>
        let tg = window.Telegram.WebApp;
        document.getElementById("username").innerText = tg.initDataUnsafe.user?.first_name || "Guest";

        function sendData() {
            tg.sendData(JSON.stringify({ action: "clicked_button" }));
        }

        tg.expand(); // Makes app full-screen
    </script>
</body>
</html>
